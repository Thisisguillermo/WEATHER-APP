{"version":3,"sources":["js/main.js"],"names":["Loadelements","addElement","geoFindMe","document","body","onload","apiKey","weatherUnits","section","createElement","newContent","createTextNode","appendChild","currentDiv","getElementById","insertBefore","status","querySelector","mapLink","href","textContent","navigator","geolocation","getCurrentPosition","success","position","latitude","coords","longitude","weather","console","log","fetch","then","response","json","data","name","catch","error"],"mappings":";AA0EA,SAAA,EAAA,GAAA,GAAA,MAAA,EAAA,MAAA,IAAA,UAAA,gCAzEA,IAAMA,EAAe,WACjBC,IACAC,KAGJC,SAASC,KAAKC,OAASL,EAGvB,IAAMM,EAAS,mCAETC,EAAe,SAIrB,SAASN,IAECO,IAAAA,EAAUL,SAASM,cAAc,WAGjCC,EAAaP,SAASQ,eAAe,2BAG3CH,EAAQI,YAAYF,GAGdG,IAAAA,EAAaV,SAASW,eAAe,QAC3CX,SAASC,KAAKW,aAAaP,EAASK,GAGxC,SAASX,IAECc,IAAAA,EAASb,SAASc,cAAc,WAChCC,EAAUf,SAASc,cAAc,aAEvCC,EAAQC,KAAO,GACfD,EAAQE,YAAc,GA8BjBC,UAAUC,aAGXN,EAAOI,YAAc,YACrBC,UAAUC,YAAYC,mBAhCjBC,SAAQC,GACPC,IAAAA,EAAWD,EAASE,OAAOD,SAC3BE,EAAYH,EAASE,OAAOC,UAElCZ,EAAOI,YAAc,GACrBF,EAAQC,KAAgDO,yCAAAA,OAAAA,EAAYE,KAAAA,OAAAA,GACpEV,EAAQE,YAA2BM,aAAAA,OAAAA,EAA0BE,mBAAAA,OAAAA,EAA7D,MACIC,IAAAA,EAAiEH,uDAAAA,OAAAA,EAAgBE,SAAAA,OAAAA,EAAmBrB,WAAAA,OAAAA,EAAsBD,WAAAA,OAAAA,EAA9H,gBACAwB,QAAQC,IAAIF,EAAU,0BAEtBG,MAAMH,GACDI,KAAK,SAAAC,GACKA,OAAAA,EAASC,SAEnBF,KAAK,SAAAG,GACFN,QAAQC,IAAIK,GACAA,EAAAA,EAAKC,MACjBP,QAAQC,IAAIK,EAAKC,QAEpBC,MAAM,SAACC,GACJT,QAAQS,MAAM,SAAUA,MAI3BA,WACLvB,EAAOI,YAAc,sCAIrBJ,EAAOI,YAAc","file":"main.3c6b0ded.js","sourceRoot":"..","sourcesContent":["// Loading the location(geoFindMe) and normal elements\nconst Loadelements = function () {\n    addElement();\n    geoFindMe()\n}\n\ndocument.body.onload = Loadelements;\n\n// API key needs to be in a separate file or actually handles by the server itself for security reasons. But I'll let it slide this time. https://www.freecodecamp.org/news/how-to-use-environment-variables-in-vanillajs/\nconst apiKey = 'dd7abd123d47b36357eb5e8568f8526f';\n\nconst weatherUnits = 'metric';\n\n\n\nfunction addElement() {\n    // create a new div element\n    const section = document.createElement(\"section\");\n\n    // and give it some content\n    const newContent = document.createTextNode(\"Hi there and greetings!\");\n\n    // add the text node to the newly created div\n    section.appendChild(newContent);\n\n    // add the newly created element and its content into the DOM\n    const currentDiv = document.getElementById(\"div1\");\n    document.body.insertBefore(section, currentDiv);\n}\n\nfunction geoFindMe() {\n\n    const status = document.querySelector('#status');\n    const mapLink = document.querySelector('#map-link');\n\n    mapLink.href = '';\n    mapLink.textContent = '';\n\n    function success(position) {\n        const latitude = position.coords.latitude;\n        const longitude = position.coords.longitude;\n\n        status.textContent = '';\n        mapLink.href = `https://www.openstreetmap.org/#map=18/${latitude}/${longitude}`;\n        mapLink.textContent = `Latitude: ${latitude} °, Longitude: ${longitude} °`;\n        let weather = `https://api.openweathermap.org/data/2.5/weather?lat=${latitude}&lon=${longitude}&units=${weatherUnits}&appid=${apiKey}&lang={lang}`;\n        console.log(weather + ' weather console check');\n\n        fetch(weather)\n            .then(response => {\n                return response.json();\n            })\n            .then(data => {\n                console.log(data)\n                const { } = data.name\n                console.log(data.name);\n            })\n            .catch((error) => {\n                console.error('Error:', error);\n            });\n    }\n\n    function error() {\n        status.textContent = 'Unable to retrieve your location';\n    }\n\n    if (!navigator.geolocation) {\n        status.textContent = 'Geolocation is not supported by your browser';\n    } else {\n        status.textContent = 'Locating…';\n        navigator.geolocation.getCurrentPosition(success, error);\n    }\n}\n\n//   document.querySelector('#find-me').addEventListener('click', geoFindMe);\n\n\n"]}